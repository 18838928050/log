2017年10月13日 周五

上午把 node.js 后续的课程进度规划了一下，把大作业思考了一下，大作业是待办事项的前后端分离实现 CRUD 操作，并且实现数据的数据库存储。给高杨教了教 Git 的用法。在信计的群里发布了这次课的作业，上午回答了一堆信计学生项目管理的问题。中午思考了网站刷票的原理，发现 node.js 的 http 模块的 get 函数可以自定义 HTTP 请求的头，也可以自定义 HTTP 响应的头。代码如下：

```javascript
#!/usr/bin/node
// 02-hello-world-server.js

var http = require('http');

http.createServer(function(req, res) {
  console.log(req.headers);
  console.log('');

  res.setHeader('wangding', '408542507');
  res.end('Hello World!');

}).listen(8080);
```

```javascript
#!/usr/bin/node

var http = require('http');

//var url = process.argv[2] || 'http://sample.wangding.in/web/one-div.html';

var options = {
  hostname: 'localhost',
  port: 8080,
  path: '/',
  method: 'GET',
  headers: {
    'Accept': 'text/plain',
    'wangding': '408542507'
  } 
};

http.get(options, function(res) {
  console.log('status:', res.statusCode);
  console.log('status message:', res.statusMessage);
  console.log('HTTP version:', res.httpVersion);
  console.log('');
  
  console.log(res.headers);
  console.log('');

  res.pipe(process.stdout);

});
```

---
2017年10月12日 周四

上午写 node.js 中篇调试的教案，写了一个。上午高杨把 node.js 中篇的 web 应用的六个视频剪完了，上传到 51CTO 学院了。上午修改了 node.js（上）的作业任务，把 .tern-project 的任务修改的容易完成了。把 tools 仓库的 .vimrc 文件增加了注释。研究了 jshint vim 的语法检查插件，实现了 vim 对 JavaScript 代码的静态语法检查。把中午看了看股票。午休半个小时。下午给学生上课，上课的时候把 JavaScript 异步编程的混合流程控制的代码讲了一下。首先，将代码分了分块。然后，找到代码从哪一行开始执行，人工执行了一番。然后把程序的思路，用泳道游泳比喻了一番，找了三个学生在讲台上表演了一番。晚上检查高杨的测验题。

---
2017年10月11日 周三

找 csdn 客服，把作废的 mocha（上）课程视频删除。把 mocha（上）课程视频加密上传网盘，把 node.js（中）的课程视频加密上传网盘，给经贸学生发消息，下载周五的加密视频。把七门课程的价格从六元改成了九元。看了看超星的申报材料，安排给刘金梦了。修改了 JavaScript 异步编程的通关任务，增加了阅读材料。把昨天上课给学生讲的内容整理到日志中了。中午看了看股票，融资买入和 6000 股蓝色光标。中午休息了一会。下午看了看股票，教案进展不大。看了看百度开发者中心的资料。跟刘金梦交流了一下超星的事情。检查了刘金梦的异步编程的测验题。

---
2017年10月10日 周二

上午写 node.js 调试的教案。中午午休半个小时，下午上 node.js 应用开发课程。晚上把 51CTO mocha（上）的开发环境搭建课程视频替换了，把 csdn 平台的 mocha（上）六个视频替换了。解答学生混合流程的问题。解答学生 Selenium IDE prompt 弹窗的问题。修改了 JavaScript 异步编程混合流程代码的一处错误。

课上跟学生交流四点：
- 关于 `#!/usr/bin/node`，请准确说出 `/usr/bin/node` 是什么？
  加上 `#!/usr/bin/node` 可以让命令行执行 js 脚本程序时，不用前面跟着 `node` 命令。这是指 `#!/usr/bin/node` 这行代码的作用。但是并没有准确说出 `/usr/bin/node` 是什么，`/usr/bin/node 是 node 程序的绝对路径`，看一下 linux 命令行提示符 `~/nodejs-demo/09-stream`，这个命令行提示符就是一个路径，在命令行提示符下面输入命令 `pwd` print working directory 打印当面工作目录，会看到 `/home/wangding/nodejs-demo/09-stream` 其中 `~` 展开成 `/home/wangding`，如果登录用户是 zhangsan，则展开成 `/home/zhangsan`。展开的路径认识，则 `/usr/bin/node` 就认识，这是绝对路径，`./01-server.js` 这是相对路径，点代表当前路径。在命令行提示符下，运行 `which node` 看一下输出结果，正好是 `/usr/bin/node`，这就是 node 程序的绝对路径。问题是咱们运行 node 的时候，没有 ./node，说明 node 程序不在当前路径下，可是怎么就能找到 node 呢？在命令提示符下输入 `env` 看到环境变量，第四行就是 PATH 环境变量，很好几个路径中间用冒号隔开，其中就有一个路径是 `/usr/bin`，也就是说系统会在这五个路径下面找 node 应用程序，正好在 `/usr/bin` 下面找到了。
- node.js 作用是什么？
  node.js 是写后台程序的。什么是前台程序？什么是后台程序呢？前台程序和后台程序都放到服务器上，同样都是 js 脚本，怎么说这个脚本是前台程序，或者前端代码，另一个 js 脚本是后台程序，是后端代码呢？评判的依据是，前台程序由浏览器解释执行，消耗客户端 CPU 的运算资源。后台程序由服务器环境来解释执行，消耗服务器端 CPU 资源。这是一个很重要的概念一定要搞清楚。
- 三种流还是四种流？
  process 中有三种标准流，哪三种？stdin、stdout、stderr。流模块中有四种流，哪四种？可读流、可写流、双工流和转换流。三种标准流分别属于四种流的哪种类型，要说的出。
- process.stdin.pipe() process 是什么意思？
  std 是什么意思？是哪个单词的缩写？in 是什么意思？process 是进程，std 是 standard 的缩写，标准的意思。in 是 input 的前两个字母，输入的意思。学生们英语不行。写程序是用英语写，每行程序都是有语义的，如果英语看不懂，看程序不是看天书了？任何一个编程语言关键字的数量很少，不过是二三十个英文单词，但是写程序总需要给变量和函数起名字的，变量名和函数名用有意义的英文单词来命名，会让程序代码本身具有可读性。这样就不用给程序代码写注释了。

---
2017年10月9日 周一

跟 csdn 客服交流，修改课程视频，申请优惠券没有成功，测试金盾视频加密技术。把 JavaScript 课程视频加密了，把加密课程视频上传到百度网盘上让学生下载，高杨负责播放码的生成。解答学员的问题。给杜志典传算法导论的课程视频。中午教高杨如何生成播放码，中午教高杨如何创建课程图片，两个技能，如何得到一个平面设计，如何实现设计。

---
2017年10月8日 周日

把 node.js 中篇的通关任务整理好了。上午把 web 应用的静态文件服务教案写好了，录制了课程视频。上传 javascript 异步编程剪辑过的视频到 51CTO 学院和 CSDN 学院。在 csdn 上申请优惠券。晚上学习调试方面的书籍资料，试着写了写代码。

---
2017年10月7日 周六

十月一期间就搞了 web 应用的教案。web 应用录制了五个视频，没有写教案。还差一个静态文件服务的教案没有。晚上看天龙八部了。

---
2017年10月6日 周五

上午在 csdn 学院创建了三门课程：产品设计简介、界面原型设计和 node.js 应用开发（中）。给经贸和师大的学生，提醒了假期作业。跟高杨发了十月份五百实习费，高杨 mocha 上篇剪好了，上传到 51CTO 学院了。mocha 01-02.mp4 开发环境搭建没有剪，看一下办公室电脑上是否有。下午去看橱柜，晚上看天龙八部。

---
2017年10月5日 周四

早上八点接父母去小樵玩，吃驴肉。下午六点返回，高速事故封路，走 307 国道，晚上九点到家。看完了倚天屠龙记。

---
2017年10月4日 周三

写 node.js 教案。看倚天屠龙记。

---
2017年10月3日 周二

把 web 应用的 demo code 搞定，把 https 的教案搞定。

---
2017年10月2日 周日

上午娄瑛姐来家里做客，中午带着去吃自助，休息了一天，看倚天屠龙记了。

---
2017年10月1日 周日

上午去看父母，包饺子。写了写 web 教案，没有写多少。京东网上买锁芯。node.js 应用开发中篇课程发布了，app 上章节编号有问题，跟 51cto 学院的客服反映了问题。晚上没睡着觉，看了一晚上倚天屠龙记。
